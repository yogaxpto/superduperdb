<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/vector_search" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Vector search | SuperDuperDB documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.superduperdb.com/docs/tutorials/vector_search"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="https://docs.superduperdb.com/img/superDuperDB_img.png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Vector search | SuperDuperDB documentation"><meta data-rh="true" name="description" content="Since vector-search is all-the-rage right now,"><meta data-rh="true" property="og:description" content="Since vector-search is all-the-rage right now,"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.superduperdb.com/docs/tutorials/vector_search"><link data-rh="true" rel="alternate" href="https://docs.superduperdb.com/docs/tutorials/vector_search" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.superduperdb.com/docs/tutorials/vector_search" hreflang="x-default"><script id="gtm-script_1" strategy="lazyOnload">!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-5BXCZJTF",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
<script id="gtag-config" strategy="lazyOnload">function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-Q97F3ZHCQD")</script>
<script>!function(e){if(!window.ko){window.ko=[],["identify","track","removeListeners","open","on","off","qualify","ready"].forEach((function(e){ko[e]=function(){var n=[].slice.call(arguments);return n.unshift(e),ko.push(n),ko}}));var n=document.createElement("script");n.async=!0,n.setAttribute("src","https://cdn.getkoala.com/v1/pk_92927e86e628c69d1ec3b7b4e887e6997bab/sdk.js"),(document.body||document.head).appendChild(n)}}()</script>
<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5BXCZJTF" height="0" width="0" style="display: none; visibility: hidden;"></iframe>
<script src="https://main.d1eg28j9pwrt0l.amplifyapp.com/widget.js" id="my-api" data-api-key="superduperdb" async></script>
<script src="https://tag.clearbitscripts.com/v1/pk_0beed107418c6889a934fd8a58e1054e/tags.js" referrerpolicy="strict-origin-when-cross-origin" async></script>
<script src="https://www.googletagmanager.com/gtag/js?id=G-Q97F3ZHCQD" strategy="lazyOnload" id="gtag-script_2" async></script><link rel="stylesheet" href="/assets/css/styles.3a532f95.css">
<script src="/assets/js/runtime~main.1374592b.js" defer="defer"></script>
<script src="/assets/js/main.bd4eee46.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#7628f8;color:#fff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">ðŸ”® We officially released v0.2 on Github! Check it out! ðŸ”®</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://superduperdb.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/SuperDuperDB_logo_color_dark_noborder.svg" alt="SuperDuperDB" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/SuperDuperDB_logo_color.svg" alt="SuperDuperDB" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/docs/category/use-cases/">Use Cases</a><a class="navbar__item navbar__link" href="/docs/category/api/">API</a><a href="https://blog.superduperdb.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/SuperDuperDB/superduper-community-apps/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community Apps<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://www.question-the-docs.superduperdb.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Ask our docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SuperDuperDB/superduperdb" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/get_started/first_steps">Get started</a><button aria-label="Expand sidebar category &#x27;Get started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/tutorials/intro">Tutorials</a><button aria-label="Collapse sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorials/vector_search">Vector search</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/listening">Listening for new data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/rag">Basic RAG tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/training">Training and Managing MNIST Predictions with SuperDuperDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/custom_serialization">Custom serialization</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/core_api/intro">Core API</a><button aria-label="Expand sidebar category &#x27;Core API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/apply_api/component">Apply API</a><button aria-label="Expand sidebar category &#x27;Apply API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/execute_api/overview">Execute API</a><button aria-label="Expand sidebar category &#x27;Execute API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/models/overview">Models</a><button aria-label="Expand sidebar category &#x27;Models&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/reusable-snippets">Reusable snippets</a><button aria-label="Expand sidebar category &#x27;Reusable snippets&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/data_integrations/intro">Data integrations</a><button aria-label="Collapse sidebar category &#x27;Data integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data_integrations/mongodb">MongoDB</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/docs/data_integrations/sql">SQL Databases</a><button aria-label="Collapse sidebar category &#x27;SQL Databases&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data_integrations/mysql">MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data_integrations/postgresql">PostgreSQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data_integrations/snowflake">Snowflake</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data_integrations/sqlite">SQLite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data_integrations/duckdb">DuckDB</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/data_integrations/pandas">Pandas</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/category/ai-integrations">AI integrations</a><button aria-label="Collapse sidebar category &#x27;AI integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai_integrations/anthropic">Anthropic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai_integrations/cohere">Cohere</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai_integrations/custom">Custom Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai_integrations/jina">Jina</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai_integrations/llama_cpp">Llama.cpp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai_integrations/openai">OpenAI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai_integrations/pytorch">PyTorch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai_integrations/sentence_transformers">Sentence-Transformers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai_integrations/sklearn">Scikit-learn</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai_integrations/transformers">Transformers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ai_integrations/vllm">vLLM</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/fundamentals/overview">Fundamentals</a><button aria-label="Expand sidebar category &#x27;Fundamentals&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/production/overview">Production features</a><button aria-label="Expand sidebar category &#x27;Production features&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/api">API</a><button aria-label="Expand sidebar category &#x27;API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/use-cases">Use cases</a><button aria-label="Expand sidebar category &#x27;Use cases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://raw.githubusercontent.com/SuperDuperDB/superduperdb/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Reference</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/tutorials/intro"><span itemprop="name">Tutorials</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Vector search</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Vector search</h1>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Since vector-search is all-the-rage right now,
here is the simplest possible iteration of semantic
text-search with a <code>sentence_transformers</code> model,
as an entrypoint to <code>superduperdb</code>.</p><p>Note that <code>superduperdb</code> is much-much more than vector-search
on text. Explore the docs to read about classical machine learning,
computer vision, LLMs, fine-tuning and much much more!</p></div></div>
<p>First let&#x27;s get some data. These data are the markdown files
of the very same documentation you are reading!
You can download other sample data-sets for testing <code>superduperdb</code>
by following <a href="/docs/reusable_snippets/get_useful_sample_data">these lines of code</a>.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;https://superduperdb-public-demo.s3.amazonaws.com/text.json&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;text.json&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;wb&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;text.json&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;r&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> json</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">f</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"><pre><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sidebar_position-5">sidebar_position: 5<a href="#sidebar_position-5" class="hash-link" aria-label="Direct link to sidebar_position: 5" title="Direct link to sidebar_position: 5">â€‹</a></h2><h1>Encoding data</h1><p>In AI, typical types of data are:</p><ul>
<li><strong>Numbers</strong> (integers, floats, etc.)</li>
<li><strong>Text</strong></li>
<li><strong>Images</strong></li>
<li><strong>Audio</strong></li>
<li><strong>Videos</strong></li>
<li><strong>...bespoke in house data</strong></li>
</ul><p>Most databases don&#x27;t support any data other than numbers and text.
SuperDuperDB enables the use of these more interesting data-types using the <code>Document</code> wrapper.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="document"><code>Document</code><a href="#document" class="hash-link" aria-label="Direct link to document" title="Direct link to document">â€‹</a></h3><p>The <code>Document</code> wrapper, wraps dictionaries, and is the container which is used whenever
data is exchanged with your database. That means inputs, and queries, wrap dictionaries
used with <code>Document</code> and also results are returned wrapped with <code>Document</code>.</p><p>Whenever the <code>Document</code> contains data which is in need of specialized serialization,
then the <code>Document</code> instance contains calls to <code>DataType</code> instances.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="datatype"><code>DataType</code><a href="#datatype" class="hash-link" aria-label="Direct link to datatype" title="Direct link to datatype">â€‹</a></h3><p>The <a href="/docs/apply_api/datatype"><code>DataType</code> class</a>, allows users to create and encoder custom datatypes, by providing
their own encoder/decoder pairs.</p><p>Here is an example of applying an <code>DataType</code> to add an image to a <code>Document</code>:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pickle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> PIL</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> superduperdb </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> DataType</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Document</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PIL</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Image</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;my_image.jpg&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_image_encoder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DataType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    identifier</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;my-pil&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    encoder</span><span class="token operator" style="color:#393A34">=</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pickle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dumps</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    decoder</span><span class="token operator" style="color:#393A34">=</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pickle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">loads</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">document </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;img&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my_image_encoder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">image</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The bare-bones dictionary may be exposed with <code>.unpack()</code>:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unpack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;img&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> \</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">PIL</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PngImagePlugin</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PngImageFile image mode</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">P size</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">400x300\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By default, data encoded with <code>DataType</code> is saved in the database, but developers
may alternatively save data in the <code>db.artifact_store</code> instead.</p><p>This may be achiever by specifying the <code>encodable=...</code> parameter:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">my_image_encoder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DataType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    identifier</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;my-pil&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    encoder</span><span class="token operator" style="color:#393A34">=</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pickle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dumps</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    decoder</span><span class="token operator" style="color:#393A34">=</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pickle</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">loads</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    encodable</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;artifact&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># saves to disk/ db.artifact_store</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># encodable=&#x27;lazy_artifact&#x27;, # Just in time loading</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>encodable</code> specifies the type of the output of the <code>__call__</code> method,
which will be a subclass of <code>superduperdb.components.datatype._BaseEncodable</code>.
These encodables become leaves in the tree defines by a <code>Document</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="schema"><code>Schema</code><a href="#schema" class="hash-link" aria-label="Direct link to schema" title="Direct link to schema">â€‹</a></h3><p>A <code>Schema</code> allows developers to connect named fields of dictionaries
or columns of <code>pandas.DataFrame</code> objects with <code>DataType</code> instances.</p><p>A <code>Schema</code> is used, in particular, for SQL databases/ tables, and for
models that return multiple outputs.</p><p>Here is an example <code>Schema</code>, which is used together with text and image
fields:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Schema</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;my-schema&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> fields</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;my-text&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;str&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my-image&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> my_image_encoder\</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></pre></div></div></details>
<p>Now we connect to SuperDuperDB, using MongoMock as a databackend.
Read more about connecting to SuperDuperDB <a href="/docs/core_api/connect">here</a> and
a semi-exhaustive list of supported data-backends for connecting <a href="/docs/reusable_snippets/connect_to_superduperdb">here</a>.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> superduperdb </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> superduper</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Document</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">db </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> superduper</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;mongomock://test&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">_ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;documents&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">insert_many</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;txt&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> txt</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> txt </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"><pre><p>2024-May-23 22:32:53.64| INFO     | Duncans-MBP.fritz.box| superduperdb.base.build:69   | Data Client is ready. mongomock.MongoClient(&#x27;localhost&#x27;, 27017)
2024-May-23 22:32:53.66| INFO     | Duncans-MBP.fritz.box| superduperdb.base.build:42   | Connecting to Metadata Client with engine:  mongomock.MongoClient(&#x27;localhost&#x27;, 27017)
2024-May-23 22:32:53.66| INFO     | Duncans-MBP.fritz.box| superduperdb.base.build:155  | Connecting to compute client: None
2024-May-23 22:32:53.66| INFO     | Duncans-MBP.fritz.box| superduperdb.base.datalayer:85   | Building Data Layer
2024-May-23 22:32:53.66| INFO     | Duncans-MBP.fritz.box| superduperdb.base.build:220  | Configuration:
+---------------+------------------+
| Configuration |      Value       |
+---------------+------------------+
|  Data Backend | mongomock://test |
+---------------+------------------+
2024-May-23 22:32:53.67| INFO     | Duncans-MBP.fritz.box| superduperdb.backends.local.compute:37   | Submitting job. function:&lt;function callable_job at 0x1107caa20&gt;
2024-May-23 22:32:53.68| SUCCESS  | Duncans-MBP.fritz.box| superduperdb.backends.local.compute:43   | Job submitted on &lt;superduperdb.backends.local.compute.LocalComputeBackend object at 0x15267d010&gt;.  function:&lt;function callable_job at 0x1107caa20&gt; future:03704b18-e98c-4eb8-ab48-d257105c3e6f</p></pre></div></div></details>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"><pre><p>[]</p></pre></div></div></details>
<p>We are going to make these data searchable by activating a <a href="/docs/apply_api/model"><code>Model</code></a> instance
to compute vectors for each item inserted to the <code>&quot;documents&quot;</code> collection.
For that we&#x27;ll use the <a href="https://sbert.net/" target="_blank" rel="noopener noreferrer">sentence-transformers</a> integration to <code>superduperdb</code>.
Read more about the <code>sentence_transformers</code> integration <a href="/docs/ai_integrations/sentence_transformers">here</a>
and <a href="/api/ext/sentence_transformers/">here</a>.</p>
<code class="language-python"></code>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"></div></div></details>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> superduperdb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sentence_transformers </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> SentenceTransformer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SentenceTransformer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    identifier</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;test&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    predict_kwargs</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;show_progress_bar&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    model</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;all-MiniLM-L6-v2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    device</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;cpu&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    postprocess</span><span class="token operator" style="color:#393A34">=</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tolist</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"><pre><p>/Users/dodo/.pyenv/versions/3.11.7/envs/superduperdb-3.11/lib/python3.11/site-packages/huggingface_hub/file_download.py:1132: FutureWarning: <code>resume_download</code> is deprecated and will be removed in version 1.0.0. Downloads always resume when possible. If you want to force a new download, use <code>force_download=True</code>.
warnings.warn(</p></pre><pre><p>2024-May-23 22:33:00.27| INFO     | Duncans-MBP.fritz.box| superduperdb.components.component:386  | Initializing SentenceTransformer : test
2024-May-23 22:33:00.27| INFO     | Duncans-MBP.fritz.box| superduperdb.components.component:389  | Initialized  SentenceTransformer : test successfully</p></pre><pre><p>Batches:   0%|          | 0/1 [00:00&lt;?, ?it/s]</p></pre></div></div></details>
<p>We can check that this model gives us what we want by evaluating an output
on a single data-point. (Learn more about the various aspects of <code>Model</code> <a href="/docs/models/">here</a>.)</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"><pre><p>Batches:   0%|          | 0/1 [00:00&lt;?, ?it/s]</p></pre><pre><p>[-0.0728381797671318,
-0.04369897395372391,
-0.053990256041288376,
0.05244452506303787,
-0.023977573961019516,
0.01649916172027588,
-0.011447322554886341,
0.061035461723804474,
-0.07156683504581451,
-0.021972885355353355,
0.01267794519662857,
0.018208766356110573,
0.05270218849182129,
-0.020327100530266762,
-0.019956670701503754,
0.027658769860863686,
0.05226463824510574,
-0.09045840799808502,
-0.05595366284251213,
-0.015193621627986431,
0.11809872835874557,
0.006927163805812597,
-0.042815908789634705,
0.020163120701909065,
-0.007551214192062616,
0.05370991304516792,
-0.06269364058971405,
-0.015371082350611687,
0.07905995100736618,
0.01635877788066864,
0.013246661052107811,
0.05565343424677849,
0.01678791269659996,
0.08823869377374649,
-0.06329561769962311,
0.018252376466989517,
0.01689964346587658,
-0.09000741690397263,
-0.013926311396062374,
-0.054565709084272385,
0.09763795882463455,
-0.045446526259183884,
-0.11169185489416122,
-0.01672297902405262,
0.028883105143904686,
0.02041822485625744,
-0.07608168572187424,
-0.03668771684169769,
-0.03977571055293083,
0.03618845343589783,
-0.0918053463101387,
0.029532095417380333,
-0.04220665618777275,
0.13082784414291382,
0.024324564263224602,
0.025249535217881203,
-0.016180122271180153,
0.010552441701292992,
0.0027522461023181677,
0.07488349825143814,
0.010217947885394096,
-0.005154070910066366,
0.04516936093568802,
-0.020390896126627922,
0.039545465260744095,
-0.031169062480330467,
-0.04323659837245941,
0.020132744684815407,
0.0670941099524498,
-0.08838536590337753,
-0.005763655062764883,
0.014565517194569111,
-0.03434328734874725,
0.08641394972801208,
0.03842026740312576,
-0.06397535651922226,
-0.004498982336372137,
-0.03862036392092705,
0.009389184415340424,
-0.06150598078966141,
-0.018634818494319916,
-0.04963228479027748,
0.046070147305727005,
0.07461931556463242,
0.016484497115015984,
-0.041531577706336975,
0.07544152438640594,
0.009718718007206917,
-0.029345177114009857,
0.009860241785645485,
-0.01978706754744053,
-0.1266753077507019,
-0.006543521303683519,
0.004957514349371195,
-0.022630779072642326,
0.062321994453668594,
-0.008847227320075035,
-0.009422101080417633,
0.07500597834587097,
-0.011071165092289448,
-0.011291230097413063,
-0.0023497703950852156,
-0.0020577553659677505,
-0.022909553721547127,
-0.02039080671966076,
-0.08629532903432846,
0.035559117794036865,
0.004795302636921406,
-0.025927048176527023,
-0.000661480997223407,
-0.01712101511657238,
-0.019804038107395172,
-0.09941169619560242,
-0.12973709404468536,
-0.036208849400281906,
0.01095140166580677,
-0.10579997301101685,
0.018861284479498863,
-0.06653669476509094,
-0.009016807191073895,
0.01645195111632347,
0.05936351791024208,
0.024916797876358032,
0.06697884202003479,
0.06224494054913521,
0.029584383592009544,
-0.07033423334360123,
2.664977201744624e-33,
0.021844016388058662,
-0.08870648592710495,
-0.0011538445251062512,
0.023276792839169502,
-0.018942521885037422,
0.008065970614552498,
-0.03592826798558235,
0.08716072887182236,
0.02071245387196541,
0.06679968535900116,
-0.02447657659649849,
0.0386064276099205,
-0.058644849807024,
0.05417194217443466,
0.04741952195763588,
0.03192991763353348,
-0.07583042234182358,
-0.016834404319524765,
0.005513317883014679,
0.03408630192279816,
0.09274633228778839,
0.03650207445025444,
-0.009820879437029362,
0.03678520396351814,
0.04744667559862137,
0.03139625862240791,
-0.02660897560417652,
-0.054728686809539795,
-0.0004101162194274366,
0.012437778525054455,
-0.057767197489738464,
-0.12133049219846725,
0.004859662614762783,
-0.005881409160792828,
0.03496640920639038,
0.0011129904305562377,
-0.032958950847387314,
-0.01912698708474636,
-0.09516117721796036,
0.01166975311934948,
0.02697627805173397,
0.04149679094552994,
-0.038904909044504166,
-0.07173115015029907,
-0.03998439013957977,
0.03461567685008049,
0.056760404258966446,
0.038543105125427246,
-0.005076229106634855,
-0.048972200602293015,
-0.032644398510456085,
0.04734884947538376,
-0.028061121702194214,
-0.015486026182770729,
0.04073994979262352,
-0.010933760553598404,
0.07432980090379715,
0.045219823718070984,
0.061553847044706345,
-0.04286878556013107,
-0.04373219981789589,
-0.030894780531525612,
0.037015534937381744,
-0.012399295344948769,
-0.040280185639858246,
0.018744098022580147,
0.04238991066813469,
0.0028010543901473284,
0.11493761837482452,
-0.01020615641027689,
-0.05960821732878685,
0.10087733715772629,
-0.0005544194718822837,
0.003897483227774501,
-0.017415126785635948,
0.021939443424344063,
-0.023334739729762077,
-0.1286034733057022,
-0.05948842316865921,
0.01876923255622387,
-0.010775558650493622,
-0.005998989101499319,
-0.017639417201280594,
0.02809220552444458,
-0.05434253439307213,
0.013654942624270916,
-0.007518705911934376,
-0.10503417998552322,
-0.005824903957545757,
-0.10465069860219955,
0.053811464458703995,
0.012696388177573681,
-0.03567223250865936,
-0.12682373821735382,
-0.04431791231036186,
-5.649626418775523e-33,
-0.010820495896041393,
-0.00802531372755766,
-0.05365433543920517,
0.03958006575703621,
-0.02104414999485016,
0.006130194291472435,
0.04468188062310219,
0.05036340653896332,
-0.018140576779842377,
-0.04300504922866821,
0.012102029286324978,
-0.00577476667240262,
0.03385505825281143,
-0.06575366109609604,
-0.00653001619502902,
0.016766566783189774,
-0.12117733806371689,
-0.09218579530715942,
0.007316686678677797,
-0.019426673650741577,
-0.05662667751312256,
0.0824657529592514,
0.029016738757491112,
0.047513313591480255,
0.05799231678247452,
-0.008996383287012577,
-0.04977172240614891,
0.03319057077169418,
0.11511028558015823,
0.02250896953046322,
0.02120146155357361,
-0.049932535737752914,
-0.041500966995954514,
-0.009317374788224697,
-0.09659228473901749,
-0.05510890483856201,
0.06295066326856613,
0.024173501878976822,
-0.04577157646417618,
0.024133509024977684,
0.04559364914894104,
0.021016940474510193,
-0.049103744328022,
0.024935618042945862,
-0.05304615944623947,
-0.014961606822907925,
-0.09521036595106125,
0.029579075053334236,
0.025183551013469696,
-0.08900482952594757,
0.07622205466032028,
-0.036385778337717056,
-0.05705392360687256,
-0.03871440514922142,
0.011190380901098251,
-0.046501439064741135,
-0.025219706818461418,
0.0001118649379350245,
-0.04297145828604698,
0.06217939034104347,
0.04021172970533371,
-0.07403939962387085,
-0.0007105112308636308,
0.0006416494725272059,
-0.07840533554553986,
-0.026061616837978363,
-0.021549392491579056,
-0.06263766437768936,
-0.11086386442184448,
-0.05587910860776901,
0.07480043172836304,
-0.07763925194740295,
0.04992743954062462,
0.06204086169600487,
-0.0013184875715523958,
-0.004204373806715012,
-0.05604926869273186,
-0.0030061916913837194,
0.02281804382801056,
0.0618956983089447,
-0.046122197061777115,
0.0020551434718072414,
0.050125688314437866,
0.08694882690906525,
0.06670200824737549,
0.018796533346176147,
-0.010559462942183018,
0.06277848035097122,
-0.04749680310487747,
-0.0014071549521759152,
-0.08777493238449097,
0.09142813831567764,
-0.09544055908918381,
0.09548325836658478,
-0.01017127837985754,
-5.976371397764524e-08,
-0.07207749783992767,
-0.018692996352910995,
0.02441777102649212,
0.047647666186094284,
0.007122713141143322,
-0.055901724845170975,
-0.022228682413697243,
0.08026605099439621,
0.05604938790202141,
-0.03505357354879379,
0.06595908850431442,
-0.02741447649896145,
-0.1040404811501503,
-0.013773254118859768,
0.11995217949151993,
0.00027782461256720126,
0.07589304447174072,
-0.009353208355605602,
-0.013621047139167786,
-0.03814826160669327,
-0.03208579123020172,
-0.04983912780880928,
-0.0672062411904335,
-0.08362551778554916,
0.00817915890365839,
0.011041522957384586,
0.013109216466546059,
0.13754235208034515,
0.006957167759537697,
-0.0294102281332016,
0.011861572042107582,
0.016042795032262802,
0.10429029911756516,
-0.0032936607021838427,
0.02154575102031231,
0.06281223148107529,
0.03468304127454758,
0.05810246244072914,
-0.031500834971666336,
0.014499562792479992,
0.05990524962544441,
-0.01979857124388218,
-0.09960303455591202,
0.0047220210544764996,
0.07983221858739853,
0.009491761215031147,
0.06561334431171417,
-0.007396489381790161,
0.062069281935691833,
0.05087302252650261,
-0.0004922127700410783,
-0.05793500691652298,
0.03456997871398926,
0.08377060294151306,
0.03708452731370926,
0.03597697988152504,
-0.01678624376654625,
-0.018676387146115303,
0.06553706526756287,
0.022750001400709152,
0.015125676058232784,
0.032285671681165695,
0.03319930657744408,
0.016521509736776352]</p></pre></div></div></details>
<p>Now that we&#x27;ve verified that this model works, we can &quot;activate&quot; it for
vector-search by creating a <a href="/docs/apply_api/vector_index"><code>VectorIndex</code></a>.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pprint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vector_index </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_vector_index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">select</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;documents&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> key</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;txt&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pprint</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pprint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vector_index</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"><pre><p>VectorIndex(identifier=&#x27;test<!-- -->:vector_index<!-- -->&#x27;,
uuid=&#x27;acd20227-14e2-4cee-9507-f738315f5d42&#x27;,
indexing_listener=Listener(identifier=&#x27;component/listener/test/b335fc9c-ad9e-4495-8c39-6894c5b4f842&#x27;,
uuid=&#x27;b335fc9c-ad9e-4495-8c39-6894c5b4f842&#x27;,
key=&#x27;txt&#x27;,
model=SentenceTransformer(preferred_devices=(&#x27;cuda&#x27;,
&#x27;mps&#x27;,
&#x27;cpu&#x27;),
device=&#x27;cpu&#x27;,
identifier=&#x27;test&#x27;,
uuid=&#x27;11063ea2-4afa-4cab-8a55-21d0c7ad2900&#x27;,
signature=&#x27;singleton&#x27;,
datatype=DataType(identifier=&#x27;test/datatype&#x27;,
uuid=&#x27;e46268dc-5c88-48dd-8595-f774c35a8f09&#x27;,
encoder=None,
decoder=None,
info=None,
shape=(384,),
directory=None,
encodable=&#x27;native&#x27;,
bytes_encoding=&lt;BytesEncoding.BYTES: &#x27;Bytes&#x27;&gt;,
intermediate_type=&#x27;bytes&#x27;,
media_type=None),
output_schema=None,
flatten=False,
model_update_kwargs={},
predict_kwargs={&#x27;show_progress_bar&#x27;: True},
compute_kwargs={},
validation=None,
metric_values={},
object=SentenceTransformer(
(0): Transformer({&#x27;max_seq_length&#x27;: 256, &#x27;do_lower_case&#x27;: False}) with Transformer model: BertModel
(1): Pooling({&#x27;word_embedding_dimension&#x27;: 384, &#x27;pooling_mode_cls_token&#x27;: False, &#x27;pooling_mode_mean_tokens&#x27;: True, &#x27;pooling_mode_max_tokens&#x27;: False, &#x27;pooling_mode_mean_sqrt_len_tokens&#x27;: False, &#x27;pooling_mode_weightedmean_tokens&#x27;: False, &#x27;pooling_mode_lasttoken&#x27;: False, &#x27;include_prompt&#x27;: True})
(2): Normalize()
),
model=&#x27;all-MiniLM-L6-v2&#x27;,
preprocess=None,
postprocess=&lt;function &lt;lambda&gt; at 0x152658cc0&gt;),
select=documents.find(),
active=True,
predict_kwargs={}),
compatible_listener=None,
measure=&lt;VectorIndexMeasureType.cosine: &#x27;cosine&#x27;&gt;,
metric_values={})</p></pre></div></div></details>
<p>You will see that the <code>VectorIndex</code> contains a <a href="/docs/apply_api/listener"><code>Listener</code></a> instance.
This instance wraps the model, and configures it to compute outputs
on data inserted to the <code>&quot;documents&quot;</code> collection with the key <code>&quot;txt&quot;</code>.</p>
<p>To activate this index, we now do:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vector_index</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"><pre><p>2024-May-23 22:33:06.79| INFO     | Duncans-MBP.fritz.box| superduperdb.components.component:386  | Initializing DataType : dill_lazy
2024-May-23 22:33:06.79| INFO     | Duncans-MBP.fritz.box| superduperdb.components.component:389  | Initialized  DataType : dill_lazy successfully
2024-May-23 22:33:08.38| INFO     | Duncans-MBP.fritz.box| superduperdb.components.component:386  | Initializing DataType : dill
2024-May-23 22:33:08.38| INFO     | Duncans-MBP.fritz.box| superduperdb.components.component:389  | Initialized  DataType : dill successfully
2024-May-23 22:33:08.42| INFO     | Duncans-MBP.fritz.box| superduperdb.backends.local.compute:37   | Submitting job. function:&lt;function method_job at 0x1107caac0&gt;</p></pre><pre><p>204it [00:00, 142844.41it/s]</p></pre><pre><p>2024-May-23 22:33:08.55| INFO     | Duncans-MBP.fritz.box| superduperdb.components.component:386  | Initializing SentenceTransformer : test
2024-May-23 22:33:08.55| INFO     | Duncans-MBP.fritz.box| superduperdb.components.component:389  | Initialized  SentenceTransformer : test successfully</p></pre><pre></pre><pre><p>Batches:   0%|          | 0/7 [00:00&lt;?, ?it/s]</p></pre><pre><p>2024-May-23 22:33:12.78| INFO     | Duncans-MBP.fritz.box| superduperdb.components.model:783  | Adding 204 model outputs to <code>db</code>
2024-May-23 22:33:12.89| WARNING  | Duncans-MBP.fritz.box| superduperdb.backends.mongodb.query:254  | Some delete ids are not executed , hence halting execution Please note the partially executed operations wont trigger any <code>model/listeners</code> unless CDC is active.
2024-May-23 22:33:12.89| SUCCESS  | Duncans-MBP.fritz.box| superduperdb.backends.local.compute:43   | Job submitted on &lt;superduperdb.backends.local.compute.LocalComputeBackend object at 0x15267d010&gt;.  function:&lt;function method_job at 0x1107caac0&gt; future:3598065c-0bfb-4d94-9b25-6e7e82c09bd0
2024-May-23 22:33:12.90| INFO     | Duncans-MBP.fritz.box| superduperdb.backends.local.compute:37   | Submitting job. function:&lt;function callable_job at 0x1107caa20&gt;
2024-May-23 22:33:12.98| INFO     | Duncans-MBP.fritz.box| superduperdb.base.datalayer:170  | Loading vectors of vector-index: &#x27;test<!-- -->:vector_index<!-- -->&#x27;
2024-May-23 22:33:12.98| INFO     | Duncans-MBP.fritz.box| superduperdb.base.datalayer:180  | documents.find(documents[0], documents[1])</p></pre><pre><p>Loading vectors into vector-table...: 204it [00:00, 3148.10it/s]</p></pre><pre><p>2024-May-23 22:33:13.05| SUCCESS  | Duncans-MBP.fritz.box| superduperdb.backends.local.compute:43   | Job submitted on &lt;superduperdb.backends.local.compute.LocalComputeBackend object at 0x15267d010&gt;.  function:&lt;function callable_job at 0x1107caa20&gt; future<!-- -->:c355caeb-daab-4712-a269-6bfca8da2c09</p></pre><pre></pre><pre><p>([&lt;superduperdb.jobs.job.ComponentJob at 0x28d6f95d0&gt;,
&lt;superduperdb.jobs.job.FunctionJob at 0x28d757850&gt;],
VectorIndex(identifier=&#x27;test<!-- -->:vector_index<!-- -->&#x27;, uuid=&#x27;acd20227-14e2-4cee-9507-f738315f5d42&#x27;, indexing_listener=Listener(identifier=&#x27;component/listener/test/b335fc9c-ad9e-4495-8c39-6894c5b4f842&#x27;, uuid=&#x27;b335fc9c-ad9e-4495-8c39-6894c5b4f842&#x27;, key=&#x27;txt&#x27;, model=SentenceTransformer(preferred_devices=(&#x27;cuda&#x27;, &#x27;mps&#x27;, &#x27;cpu&#x27;), device=&#x27;cpu&#x27;, identifier=&#x27;test&#x27;, uuid=&#x27;11063ea2-4afa-4cab-8a55-21d0c7ad2900&#x27;, signature=&#x27;singleton&#x27;, datatype=DataType(identifier=&#x27;test/datatype&#x27;, uuid=&#x27;e46268dc-5c88-48dd-8595-f774c35a8f09&#x27;, encoder=None, decoder=None, info=None, shape=(384,), directory=None, encodable=&#x27;native&#x27;, bytes_encoding=&lt;BytesEncoding.BYTES: &#x27;Bytes&#x27;&gt;, intermediate_type=&#x27;bytes&#x27;, media_type=None), output_schema=None, flatten=False, model_update_kwargs={}, predict_kwargs={&#x27;show_progress_bar&#x27;: True}, compute_kwargs={}, validation=None, metric_values={}, object=SentenceTransformer(
(0): Transformer({&#x27;max_seq_length&#x27;: 256, &#x27;do_lower_case&#x27;: False}) with Transformer model: BertModel
(1): Pooling({&#x27;word_embedding_dimension&#x27;: 384, &#x27;pooling_mode_cls_token&#x27;: False, &#x27;pooling_mode_mean_tokens&#x27;: True, &#x27;pooling_mode_max_tokens&#x27;: False, &#x27;pooling_mode_mean_sqrt_len_tokens&#x27;: False, &#x27;pooling_mode_weightedmean_tokens&#x27;: False, &#x27;pooling_mode_lasttoken&#x27;: False, &#x27;include_prompt&#x27;: True})
(2): Normalize()
), model=&#x27;all-MiniLM-L6-v2&#x27;, preprocess=None, postprocess=&lt;function &lt;lambda&gt; at 0x152658cc0&gt;), select=documents.find(), active=True, predict_kwargs={}), compatible_listener=None, measure=&lt;VectorIndexMeasureType.cosine: &#x27;cosine&#x27;&gt;, metric_values={}))</p></pre></div></div></details>
<p>The <code>db.apply</code> command is a universal command for activating AI components in SuperDuperDB.</p>
<p>You will now see lots of output - the model-outputs/ vectors are computed
and the various parts of the <code>VectorIndex</code> are registered in the system.</p>
<p>You can verify this with:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">show</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"><pre><p>[{&#x27;identifier&#x27;: &#x27;test&#x27;, &#x27;type_id&#x27;: &#x27;model&#x27;},
{&#x27;identifier&#x27;: &#x27;component/listener/test/b335fc9c-ad9e-4495-8c39-6894c5b4f842&#x27;,
&#x27;type_id&#x27;: &#x27;listener&#x27;},
{&#x27;identifier&#x27;: &#x27;test<!-- -->:vector_index<!-- -->&#x27;, &#x27;type_id&#x27;: &#x27;vector_index&#x27;}]</p></pre></div></div></details>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">db</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;documents&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find_one</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unpack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"><pre><p>{&#x27;txt&#x27;: &quot;---\nsidebar_position: 5\n---\n\n# Encoding data\n\nIn AI, typical types of data are:\n\n- <strong>Numbers</strong> (integers, floats, etc.)\n- <strong>Text</strong>\n- <strong>Images</strong>\n- <strong>Audio</strong>\n- <strong>Videos</strong>\n- <strong>...bespoke in house data</strong>\n\nMost databases don&#x27;t support any data other than numbers and text.\nSuperDuperDB enables the use of these more interesting data-types using the <code>Document</code> wrapper.\n\n### <code>Document</code>\n\nThe <code>Document</code> wrapper, wraps dictionaries, and is the container which is used whenever \ndata is exchanged with your database. That means inputs, and queries, wrap dictionaries \nused with <code>Document</code> and also results are returned wrapped with <code>Document</code>.\n\nWhenever the <code>Document</code> contains data which is in need of specialized serialization,\nthen the <code>Document</code> instance contains calls to <code>DataType</code> instances.\n\n### <code>DataType</code>\n\nThe <a href="/docs/apply_api/datatype"><code>DataType</code> class</a>, allows users to create and encoder custom datatypes, by providing \ntheir own encoder/decoder pairs.\n\nHere is an example of applying an <code>DataType</code> to add an image to a <code>Document</code>:\n\n<code>python\nimport pickle\nimport PIL.Image\nfrom superduperdb import DataType, Document\n\nimage = PIL.Image.open(&#x27;my_image.jpg&#x27;)\n\nmy_image_encoder = DataType(\n    identifier=&#x27;my-pil&#x27;,\n    encoder=lambda x: pickle.dumps(x),\n    decoder=lambda x: pickle.loads(x),\n)\n\ndocument = Document(\{&#x27;img&#x27;: my_image_encoder(image)\})\n</code>\n\nThe bare-bones dictionary may be exposed with <code>.unpack()</code>:\n\n<code>python\n\&gt;\&gt;\&gt; document.unpack()\n\{&#x27;img&#x27;: \&lt;PIL.PngImagePlugin.PngImageFile image mode=P size=400x300\&gt;\}\n</code>\n\nBy default, data encoded with <code>DataType</code> is saved in the database, but developers \nmay alternatively save data in the <code>db.artifact_store</code> instead. \n\nThis may be achiever by specifying the <code>encodable=...</code> parameter:\n\n<code>python\nmy_image_encoder = DataType(\n    identifier=&#x27;my-pil&#x27;,\n    encoder=lambda x: pickle.dumps(x),\n    decoder=lambda x: pickle.loads(x),\n    encodable=&#x27;artifact&#x27;,    # saves to disk/ db.artifact_store\n    # encodable=&#x27;lazy_artifact&#x27;, # Just in time loading\n)\n</code>\n\nThe <code>encodable</code> specifies the type of the output of the <code>__call__</code> method, \nwhich will be a subclass of <code>superduperdb.components.datatype._BaseEncodable</code>.\nThese encodables become leaves in the tree defines by a <code>Document</code>.\n\n### <code>Schema</code>\n\nA <code>Schema</code> allows developers to connect named fields of dictionaries \nor columns of <code>pandas.DataFrame</code> objects with <code>DataType</code> instances.\n\nA <code>Schema</code> is used, in particular, for SQL databases/ tables, and for \nmodels that return multiple outputs.\n\nHere is an example <code>Schema</code>, which is used together with text and image \nfields:\n\n<code>python\ns = Schema(&#x27;my-schema&#x27;, fields=\{&#x27;my-text&#x27;: &#x27;str&#x27;, &#x27;my-image&#x27;: my_image_encoder\})\n</code>\n&quot;,
&#x27;_fold&#x27;: &#x27;train&#x27;,
&#x27;_id&#x27;: ObjectId(&#x27;664fa7f5df381fe5ebf38405&#x27;),
&#x27;_outputs&#x27;: {&#x27;b335fc9c-ad9e-4495-8c39-6894c5b4f842&#x27;: [-0.0728381797671318,
-0.04369895160198212,
-0.053990304470062256,
0.05244451016187668,
-0.023977596312761307,
0.016499122604727745,
-0.011447325348854065,
0.061035484075546265,
-0.07156682759523392,
-0.021972879767417908,
0.012677934020757675,
0.018208758905529976,
0.052702222019433975,
-0.020327096804976463,
-0.01995668187737465,
0.027658754959702492,
0.05226461961865425,
-0.09045842289924622,
-0.05595369264483452,
-0.015193603932857513,
0.11809875071048737,
0.006927188020199537,
-0.042815886437892914,
0.02016316168010235,
-0.007551214657723904,
0.05370989069342613,
-0.06269364058971405,
-0.015371100045740604,
0.07905995845794678,
0.01635879836976528,
0.01324666291475296,
0.05565342679619789,
0.016787931323051453,
0.08823872357606888,
-0.06329561024904251,
0.018252374604344368,
0.016899660229682922,
-0.0900074765086174,
-0.013926304876804352,
-0.05456570163369179,
0.09763795137405396,
-0.04544650763273239,
-0.11169182509183884,
-0.016722947359085083,
0.028883112594485283,
0.02041824720799923,
-0.07608170062303543,
-0.0366877056658268,
-0.03977571055293083,
0.036188457161188126,
-0.09180538356304169,
0.02953210100531578,
-0.04220666363835335,
0.130827859044075,
0.024324607104063034,
0.025249570608139038,
-0.01618010364472866,
0.010552453808486462,
0.0027521972078830004,
0.07488350570201874,
0.010217934846878052,
-0.005154080223292112,
0.04516935348510742,
-0.020390905439853668,
0.039545439183712006,
-0.03116907924413681,
-0.04323665052652359,
0.020132753998041153,
0.0670941025018692,
-0.08838535100221634,
-0.0057636769488453865,
0.014565511606633663,
-0.034343305975198746,
0.08641396462917328,
0.03842025622725487,
-0.06397533416748047,
-0.004498984199017286,
-0.038620349019765854,
0.009389190003275871,
-0.0615059956908226,
-0.018634818494319916,
-0.04963228479027748,
0.0460701584815979,
0.07461929321289062,
0.016484474763274193,
-0.04153159260749817,
0.07544155418872833,
0.009718707762658596,
-0.02934517152607441,
0.009860233403742313,
-0.019787028431892395,
-0.1266753375530243,
-0.006543517112731934,
0.0049575152806937695,
-0.022630779072642326,
0.06232202798128128,
-0.00884722638875246,
-0.0094221206381917,
0.07500597089529037,
-0.011071158573031425,
-0.011291255243122578,
-0.0023497689981013536,
-0.0020577521063387394,
-0.022909540683031082,
-0.020390814170241356,
-0.08629532158374786,
0.035559121519327164,
0.004795318003743887,
-0.025927070528268814,
-0.0006614814046770334,
-0.017121002078056335,
-0.019804026931524277,
-0.09941168129444122,
-0.12973710894584656,
-0.03620882332324982,
0.010951397940516472,
-0.10579998791217804,
0.018861234188079834,
-0.06653666496276855,
-0.009016799740493298,
0.01645198091864586,
0.05936354771256447,
0.02491680160164833,
0.06697887927293777,
0.062244962900877,
0.02958441898226738,
-0.07033420354127884,
2.6649770180736317e-33,
0.021844014525413513,
-0.08870648592710495,
-0.0011538179824128747,
0.0232767965644598,
-0.01894250698387623,
0.008065932430326939,
-0.035928282886743546,
0.08716070652008057,
0.020712479948997498,
0.06679967790842056,
-0.02447659522294998,
0.03860645368695259,
-0.0586448572576046,
0.054171912372112274,
0.04741951450705528,
0.03192995861172676,
-0.07583040744066238,
-0.01683441549539566,
0.0055133323185145855,
0.034086331725120544,
0.09274634718894958,
0.03650207072496414,
-0.009820892475545406,
0.036785200238227844,
0.047446656972169876,
0.031396280974149704,
-0.02660900540649891,
-0.05472869798541069,
-0.0004101111553609371,
0.01243777945637703,
-0.05776720494031906,
-0.12133051455020905,
0.004859668668359518,
-0.005881412420421839,
0.03496639057993889,
0.0011130021885037422,
-0.03295896574854851,
-0.019126981496810913,
-0.09516119956970215,
0.011669756844639778,
0.026976292952895164,
0.04149681329727173,
-0.03890489786863327,
-0.07173115760087967,
-0.039984408766031265,
0.03461568057537079,
0.056760385632514954,
0.03854312747716904,
-0.005076217465102673,
-0.048972200602293015,
-0.03264437988400459,
0.047348879277706146,
-0.028061090037226677,
-0.015485992655158043,
0.04073994606733322,
-0.010933739133179188,
0.07432981580495834,
0.04521976783871651,
0.06155385449528694,
-0.04286882281303406,
-0.04373219609260559,
-0.03089478425681591,
0.037015557289123535,
-0.012399279512465,
-0.04028019309043884,
0.018744099885225296,
0.04238991439342499,
0.002801078837364912,
0.11493764072656631,
-0.01020615454763174,
-0.05960826203227043,
0.10087732970714569,
-0.00055444345343858,
0.003897454123944044,
-0.017415115609765053,
0.02193945087492466,
-0.02333473414182663,
-0.1286035031080246,
-0.0594884529709816,
0.01876922883093357,
-0.0107755521312356,
-0.0059989625588059425,
-0.017639396712183952,
0.02809220924973488,
-0.05434252694249153,
0.01365494355559349,
-0.0075187087059021,
-0.10503418743610382,
-0.00582492258399725,
-0.10465067625045776,
0.053811490535736084,
0.012696387246251106,
-0.03567224740982056,
-0.12682373821735382,
-0.04431792348623276,
-5.649626418775523e-33,
-0.010820521041750908,
-0.008025307208299637,
-0.05365429446101189,
0.03958004713058472,
-0.02104412391781807,
0.0061301738023757935,
0.044681861996650696,
0.050363361835479736,
-0.01814057119190693,
-0.0430050753057003,
0.012102004140615463,
-0.005774796940386295,
0.033855050802230835,
-0.06575366854667664,
-0.00653000408783555,
0.016766533255577087,
-0.12117733061313629,
-0.09218578785657883,
0.007316680159419775,
-0.01942664571106434,
-0.05662669613957405,
0.08246578276157379,
0.02901674434542656,
0.04751332476735115,
0.05799226835370064,
-0.00899638794362545,
-0.04977171868085861,
0.033190544694662094,
0.11511028558015823,
0.02250894159078598,
0.021201487630605698,
-0.0499325729906559,
-0.0415009967982769,
-0.009317407384514809,
-0.09659233689308167,
-0.05510890111327171,
0.06295064091682434,
0.024173470214009285,
-0.04577154666185379,
0.024133525788784027,
0.045593682676553726,
0.02101696841418743,
-0.049103744328022,
0.024935608729720116,
-0.053046178072690964,
-0.014961596578359604,
-0.09521038830280304,
0.029579076915979385,
0.02518356405198574,
-0.08900485187768936,
0.07622209191322327,
-0.03638580068945885,
-0.05705391988158226,
-0.03871438279747963,
0.011190400458872318,
-0.04650144279003143,
-0.025219738483428955,
0.00011186233314219862,
-0.04297143965959549,
0.06217937543988228,
0.040211718529462814,
-0.07403940707445145,
-0.0007105701370164752,
0.0006416687392629683,
-0.07840534299612045,
-0.026061605662107468,
-0.02154943160712719,
-0.06263765692710876,
-0.11086387932300568,
-0.05587908253073692,
0.07480042427778244,
-0.07763926684856415,
0.049927398562431335,
0.06204086169600487,
-0.001318484079092741,
-0.004204366356134415,
-0.05604930222034454,
-0.0030061937868595123,
0.02281801961362362,
0.06189575046300888,
-0.046122193336486816,
0.0020551353227347136,
0.05012568086385727,
0.08694884926080704,
0.06670202314853668,
0.018796497955918312,
-0.01055945549160242,
0.06277844309806824,
-0.04749682545661926,
-0.0014071010518819094,
-0.08777494728565216,
0.09142817556858063,
-0.09544060379266739,
0.09548324346542358,
-0.010171260684728622,
-5.976371397764524e-08,
-0.07207749783992767,
-0.0186929851770401,
0.02441776543855667,
0.047647684812545776,
0.007122725248336792,
-0.05590169504284859,
-0.022228669375181198,
0.080266073346138,
0.056049395352602005,
-0.03505353629589081,
0.06595905870199203,
-0.02741449698805809,
-0.1040404662489891,
-0.013773255050182343,
0.11995211988687515,
0.0002778216148726642,
0.07589299976825714,
-0.009353214874863625,
-0.013621056452393532,
-0.03814827278256416,
-0.0320858396589756,
-0.04983909800648689,
-0.06720622628927231,
-0.08362554013729095,
0.008179157972335815,
0.01104153972119093,
0.013109265826642513,
0.13754235208034515,
0.0069571868516504765,
-0.02941022627055645,
0.011861592531204224,
0.01604282297194004,
0.10429032146930695,
-0.003293645801022649,
0.021545739844441414,
0.06281221657991409,
0.03468310087919235,
0.05810248851776123,
-0.031500861048698425,
0.014499560929834843,
0.05990522727370262,
-0.01979857124388218,
-0.09960301965475082,
0.0047220224514603615,
0.07983223348855972,
0.009491737931966782,
0.06561332941055298,
-0.007396463770419359,
0.062069281935691833,
0.050873052328825,
-0.0004922244697809219,
-0.05793503299355507,
0.034569934010505676,
0.08377060294151306,
0.037084512412548065,
0.03597693890333176,
-0.0167862419039011,
-0.018676359206438065,
0.06553705036640167,
0.022750040516257286,
0.015125693753361702,
0.032285649329423904,
0.03319932520389557,
0.016521470621228218]}}</p></pre></div></div></details>
<p>To &quot;use&quot; the <code>VectorIndex</code> we can execute a vector-search query:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">query </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;documents&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">like</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;txt&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Tell me about vector-search&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vector_index</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">vector_index</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">identifier</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cursor </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> query</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"><pre><p>2024-May-23 22:33:16.62| INFO     | Duncans-MBP.fritz.box| superduperdb.base.datalayer:1095 | {}</p></pre><pre><p>Batches:   0%|          | 0/1 [00:00&lt;?, ?it/s]</p></pre></div></div></details>
<p>This query will return a cursor of <a href="/docs/fundamentals/document"><code>Document</code></a> instances.
To obtain the raw dictionaries, call the <code>.unpack()</code> command:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> r </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">unpack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;txt&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;=&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Outputs</summary><div><div class="collapsibleContent_i85q"><pre><h2>====================================================================================================</h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sidebar_position-7">sidebar_position: 7<a href="#sidebar_position-7" class="hash-link" aria-label="Direct link to sidebar_position: 7" title="Direct link to sidebar_position: 7">â€‹</a></h2><h1>Vector-search</h1><p>SuperDuperDB allows users to implement vector-search in their database by either
using in-database functionality, or via a sidecar implementation with <code>lance</code> and <code>FastAPI</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="philosophy">Philosophy<a href="#philosophy" class="hash-link" aria-label="Direct link to Philosophy" title="Direct link to Philosophy">â€‹</a></h2><p>In <code>superduperdb</code>, from a user point-of-view vector-search isn&#x27;t a completely different beast than other ways of
using the system:</p><ul>
<li>The vector-preparation is exactly the same as preparing outputs with any model,
with the special difference that the outputs are vectors, arrays or tensors.</li>
<li>Vector-searches are just another type of database query which happen to use
the stored vectors.</li>
</ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="algorithm">Algorithm<a href="#algorithm" class="hash-link" aria-label="Direct link to Algorithm" title="Direct link to Algorithm">â€‹</a></h2><p>Here is a schematic of how vector-search works:</p><p><img loading="lazy" src="/assets/images/vector-search-a463432ac5cf55fd4d696a794473e3c2.png" width="5120" height="2925" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="explanation">Explanation<a href="#explanation" class="hash-link" aria-label="Direct link to Explanation" title="Direct link to Explanation">â€‹</a></h2><p>A vector-search query has the schematic form:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">table_or_collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">like</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">dict</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">to</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">search</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">with</span><span class="token plain">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># the operand is vectorized using registered models</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filter_results</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># the results of vector-search are filtered</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">table_or_collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filter_results</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># the results of vector-search are filtered</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">like</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">dict</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">to</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">search</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">with</span><span class="token plain">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># the operand is vectorized using registered models</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>...or</p><p>The type of such a query is a <code>CompoundSelect</code>. It&#x27;s 2 parts are the vector-search part (<code>like</code>) and the
filtering part (<code>select</code>).</p><p>In the first case, the operand of <code>like</code> is dispatched to a <strong>model</strong>, which converts this into a <strong>vector</strong>.
The <strong>vector</strong> is compared to previously saved outputs of the same or a paired <strong>model</strong> (multi-modal).
The most similar <code>ids</code> are retrieved. The <code>select</code> part of the query is then transformed to
a similar query which searches within the retrieved <code>ids</code>. The full set of results are returned
to the client.</p><p>Read <a href="/docs/walkthrough/vector_search.md">here</a> about setting up and detailed usage of vector-search.</p><h1>====================================================================================================</h1><h1>Vector search queries</h1><p>Vector search queries are built with the <code>.like</code> operator.
This allows developers to combine standard database with vector-search queries.
The philosophy is that developers do not need to convert their inputs
into vector&#x27;s themselves. Rather, this is taken care by the specified
<a href="/docs/apply_api/vector_index"><code>VectorIndex</code> component</a>.</p><p>The basic schematic for vector-search queries is:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">table_or_collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">like</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">dict</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">to</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">search</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">with</span><span class="token plain">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vector_index</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;\&lt;my-vector-index\&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># the operand is vectorized using registered models</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filter_results</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># the results of vector-search are filtered</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em><strong>or...</strong></em></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">table_or_collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">filter_results</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">args</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># the results of vector-search are filtered</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">like</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">dict</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">to</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">search</span><span class="token operator" style="color:#393A34">-</span><span class="token keyword" style="color:#00009f">with</span><span class="token plain">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          vector_index</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;\&lt;my-vector-index\&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># the operand is vectorized using registered models</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mongodb">MongoDB<a href="#mongodb" class="hash-link" aria-label="Direct link to MongoDB" title="Direct link to MongoDB">â€‹</a></h2><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> superduperdb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pillow </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pil_image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> superduperdb </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Document</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my_image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PIL</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Image</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;test/material/data/test_image.png&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> my_collection</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;brand&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Nike&#x27;</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">like</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;img&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pil_image</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">my_image</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                               vector_index</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;\&lt;my-vector-index\&gt;&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">results </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sql">SQL<a href="#sql" class="hash-link" aria-label="Direct link to SQL" title="Direct link to SQL">â€‹</a></h2><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">t </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">load</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;table&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my-table&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">t</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">brand </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Nike&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">like</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Document</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;img&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pil_image</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">my_image</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">\</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">results </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">q</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>====================================================================================================</h1><h1>Sidecar vector-comparison integration</h1><p>For databases which don&#x27;t have their own vector-search implementation, <code>superduperdb</code> offers
2 integrations:</p><ul>
<li>In memory vector-search</li>
<li>Lance vector-search</li>
</ul><p>To configure these, add one of the following options to your configuration:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">cluster</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">vector_search</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> in_memory</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain">lance</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><em><strong>or</strong></em></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export SUPERDUPER_CLUSTER_VECTOR_SEARCH_TYPE=&#x27;in_memory|lance&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>In this case, whenever a developer executes a vector-search query including <code>.like</code>,
execution of the similarity and sorting computations of vectors is outsourced to
a sidecar implementation which is managed by <code>superduperdb</code>.</h1></pre></div></div></details>
<p>You should see that the documents returned are relevant to the <code>like</code> part of the
query.</p>
<p>Learn more about building queries with <code>superduperdb</code> <a href="/docs/execute_api/overview">here</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/SuperDuperDB/superduperdb/blob/main/docs/hr/content/tutorials/vector_search.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tutorials/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Tutorials</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorials/listening"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Listening for new data</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#sidebar_position-5" class="table-of-contents__link toc-highlight">sidebar_position: 5</a><ul><li><a href="#document" class="table-of-contents__link toc-highlight"><code>Document</code></a></li><li><a href="#datatype" class="table-of-contents__link toc-highlight"><code>DataType</code></a></li><li><a href="#schema" class="table-of-contents__link toc-highlight"><code>Schema</code></a></li></ul></li><li><a href="#" class="table-of-contents__link toc-highlight">====================================================================================================</a></li><li><a href="#sidebar_position-7" class="table-of-contents__link toc-highlight">sidebar_position: 7</a></li><li><a href="#philosophy" class="table-of-contents__link toc-highlight">Philosophy</a></li><li><a href="#algorithm" class="table-of-contents__link toc-highlight">Algorithm</a></li><li><a href="#explanation" class="table-of-contents__link toc-highlight">Explanation</a></li><li><a href="#mongodb" class="table-of-contents__link toc-highlight">MongoDB</a></li><li><a href="#sql" class="table-of-contents__link toc-highlight">SQL</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://superduperdb.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/get-started">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/use-cases">Use cases</a></li><li class="footer__item"><a href="https://blog.superduperdb.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Project</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/SuperDuperDB/superduperdb" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/SuperDuperDB/superduperdb/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issues<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/SuperDuperDB/superduperdb/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/company/superduperdb/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://superduperdb.slack.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/superduperdb" target="_blank" rel="noopener noreferrer" class="footer__link-item">X / Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@SuperDuperDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 SuperDuperDB, Inc.</div></div></div></footer></div>
</body>
</html>